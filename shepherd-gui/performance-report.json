{
  "bundleSize": {
    "passed": false,
    "details": {
      "error": "Command failed: npm run build:analyze > /dev/null 2>&1"
    }
  },
  "build": {
    "passed": false,
    "details": {
      "error": "Command failed: npm run build > /dev/null 2>&1"
    }
  },
  "tests": {
    "passed": false,
    "details": {
      "error": "Command failed: npm test -- __tests__/performance/ --passWithNoTests\nPASS __tests__/performance/monitoring.performance.test.ts\nFAIL __tests__/performance/performance-budget.test.ts\n  ● Console\n\n    console.warn\n      [Perf] Cannot observe largest-contentful-paint: ReferenceError: PerformanceObserver is not defined\n          at PerformanceMonitor.observeMetric (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:135:24)\n          at PerformanceMonitor.observeMetric [as setupObservers] (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:64:10)\n          at new setupObservers (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:53:10)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:317:35)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at Runtime.requireModuleOrMock (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1048:21)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/__tests__/performance/performance-budget.test.ts:8:29)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at jestAdapter (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n          at processTicksAndRejections (node:internal/process/task_queues:95:5)\n          at runTestInternal (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      140 |       this.observers.push(observer)\n      141 |     } catch (error) {\n    > 142 |       console.warn(`[Perf] Cannot observe ${type}:`, error)\n          |               ^\n      143 |     }\n      144 |   }\n      145 |\n\n      at PerformanceMonitor.warn [as observeMetric] (src/lib/performance-monitor.ts:142:15)\n      at PerformanceMonitor.observeMetric [as setupObservers] (src/lib/performance-monitor.ts:64:10)\n      at new setupObservers (src/lib/performance-monitor.ts:53:10)\n      at Object.<anonymous> (src/lib/performance-monitor.ts:317:35)\n      at Object.<anonymous> (__tests__/performance/performance-budget.test.ts:8:29)\n\n    console.warn\n      [Perf] Cannot observe first-input: ReferenceError: PerformanceObserver is not defined\n          at PerformanceMonitor.observeMetric (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:135:24)\n          at PerformanceMonitor.observeMetric [as setupObservers] (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:70:10)\n          at new setupObservers (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:53:10)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:317:35)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at Runtime.requireModuleOrMock (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1048:21)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/__tests__/performance/performance-budget.test.ts:8:29)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at jestAdapter (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n          at processTicksAndRejections (node:internal/process/task_queues:95:5)\n          at runTestInternal (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      140 |       this.observers.push(observer)\n      141 |     } catch (error) {\n    > 142 |       console.warn(`[Perf] Cannot observe ${type}:`, error)\n          |               ^\n      143 |     }\n      144 |   }\n      145 |\n\n      at PerformanceMonitor.warn [as observeMetric] (src/lib/performance-monitor.ts:142:15)\n      at PerformanceMonitor.observeMetric [as setupObservers] (src/lib/performance-monitor.ts:70:10)\n      at new setupObservers (src/lib/performance-monitor.ts:53:10)\n      at Object.<anonymous> (src/lib/performance-monitor.ts:317:35)\n      at Object.<anonymous> (__tests__/performance/performance-budget.test.ts:8:29)\n\n    console.warn\n      [Perf] Cannot observe layout-shift: ReferenceError: PerformanceObserver is not defined\n          at PerformanceMonitor.observeMetric (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:135:24)\n          at PerformanceMonitor.observeMetric [as setupObservers] (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:76:10)\n          at new setupObservers (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:53:10)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:317:35)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at Runtime.requireModuleOrMock (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1048:21)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/__tests__/performance/performance-budget.test.ts:8:29)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at jestAdapter (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n          at processTicksAndRejections (node:internal/process/task_queues:95:5)\n          at runTestInternal (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      140 |       this.observers.push(observer)\n      141 |     } catch (error) {\n    > 142 |       console.warn(`[Perf] Cannot observe ${type}:`, error)\n          |               ^\n      143 |     }\n      144 |   }\n      145 |\n\n      at PerformanceMonitor.warn [as observeMetric] (src/lib/performance-monitor.ts:142:15)\n      at PerformanceMonitor.observeMetric [as setupObservers] (src/lib/performance-monitor.ts:76:10)\n      at new setupObservers (src/lib/performance-monitor.ts:53:10)\n      at Object.<anonymous> (src/lib/performance-monitor.ts:317:35)\n      at Object.<anonymous> (__tests__/performance/performance-budget.test.ts:8:29)\n\n    console.warn\n      [Perf] Cannot observe longtask: ReferenceError: PerformanceObserver is not defined\n          at PerformanceMonitor.observeMetric (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:135:24)\n          at PerformanceMonitor.observeMetric [as setupObservers] (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:87:10)\n          at new setupObservers (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:53:10)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:317:35)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at Runtime.requireModuleOrMock (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1048:21)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/__tests__/performance/performance-budget.test.ts:8:29)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at jestAdapter (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n          at processTicksAndRejections (node:internal/process/task_queues:95:5)\n          at runTestInternal (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      140 |       this.observers.push(observer)\n      141 |     } catch (error) {\n    > 142 |       console.warn(`[Perf] Cannot observe ${type}:`, error)\n          |               ^\n      143 |     }\n      144 |   }\n      145 |\n\n      at PerformanceMonitor.warn [as observeMetric] (src/lib/performance-monitor.ts:142:15)\n      at PerformanceMonitor.observeMetric [as setupObservers] (src/lib/performance-monitor.ts:87:10)\n      at new setupObservers (src/lib/performance-monitor.ts:53:10)\n      at Object.<anonymous> (src/lib/performance-monitor.ts:317:35)\n      at Object.<anonymous> (__tests__/performance/performance-budget.test.ts:8:29)\n\n    console.warn\n      [Perf] Cannot observe navigation: ReferenceError: PerformanceObserver is not defined\n          at PerformanceMonitor.observeMetric (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:135:24)\n          at PerformanceMonitor.observeMetric [as setupObservers] (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:98:10)\n          at new setupObservers (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:53:10)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:317:35)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at Runtime.requireModuleOrMock (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1048:21)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/__tests__/performance/performance-budget.test.ts:8:29)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at jestAdapter (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n          at processTicksAndRejections (node:internal/process/task_queues:95:5)\n          at runTestInternal (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      140 |       this.observers.push(observer)\n      141 |     } catch (error) {\n    > 142 |       console.warn(`[Perf] Cannot observe ${type}:`, error)\n          |               ^\n      143 |     }\n      144 |   }\n      145 |\n\n      at PerformanceMonitor.warn [as observeMetric] (src/lib/performance-monitor.ts:142:15)\n      at PerformanceMonitor.observeMetric [as setupObservers] (src/lib/performance-monitor.ts:98:10)\n      at new setupObservers (src/lib/performance-monitor.ts:53:10)\n      at Object.<anonymous> (src/lib/performance-monitor.ts:317:35)\n      at Object.<anonymous> (__tests__/performance/performance-budget.test.ts:8:29)\n\n    console.warn\n      [Perf] Cannot observe paint: ReferenceError: PerformanceObserver is not defined\n          at PerformanceMonitor.observeMetric (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:135:24)\n          at PerformanceMonitor.observeMetric [as setupObservers] (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:108:10)\n          at new setupObservers (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:53:10)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:317:35)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at Runtime.requireModuleOrMock (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1048:21)\n          at Object.<anonymous> (/home/kasper-jensen/project/shepherd/shepherd-gui/__tests__/performance/performance-budget.test.ts:8:29)\n          at Runtime._execModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1439:24)\n          at Runtime._loadModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:1022:12)\n          at Runtime.requireModule (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runtime/build/index.js:882:12)\n          at jestAdapter (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n          at processTicksAndRejections (node:internal/process/task_queues:95:5)\n          at runTestInternal (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:367:16)\n          at runTest (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/runTest.js:444:34)\n          at Object.worker (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jest-runner/build/testWorker.js:106:12)\n\n      140 |       this.observers.push(observer)\n      141 |     } catch (error) {\n    > 142 |       console.warn(`[Perf] Cannot observe ${type}:`, error)\n          |               ^\n      143 |     }\n      144 |   }\n      145 |\n\n      at PerformanceMonitor.warn [as observeMetric] (src/lib/performance-monitor.ts:142:15)\n      at PerformanceMonitor.observeMetric [as setupObservers] (src/lib/performance-monitor.ts:108:10)\n      at new setupObservers (src/lib/performance-monitor.ts:53:10)\n      at Object.<anonymous> (src/lib/performance-monitor.ts:317:35)\n      at Object.<anonymous> (__tests__/performance/performance-budget.test.ts:8:29)\n\n    console.error\n      [Error: Uncaught [TypeError: performance.getEntriesByType is not a function]] {\n        detail: TypeError: performance.getEntriesByType is not a function\n            at getEntriesByType (/home/kasper-jensen/project/shepherd/shepherd-gui/src/lib/performance-monitor.ts:124:31)\n            at callTheUserObjectsOperation (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n            at innerInvokeEventListeners (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n            at invokeEventListeners (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n            at EventTargetImpl._dispatch (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n            at fireAnEvent (/home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)\n            at /home/kasper-jensen/project/shepherd/shepherd-gui/node_modules/jsdom/lib/jsdom/browser/Window.js:915:7\n            at processTicksAndRejections (node:internal/process/task_queues:77:11),\n        type: 'unhandled exception'\n      }\n\n      92 |       return\n      93 |     }\n    > 94 |     originalError.call(console, ...args)\n         |                   ^\n      95 |   }\n      96 | })\n      97 |\n\n      at console.call [as error] (jest.setup.js:94:19)\n      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at EventTargetImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at fireAnEvent (node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)\n      at node_modules/jsdom/lib/jsdom/browser/Window.js:915:7\n\n    console.log\n      [Perf] Performance monitoring started\n\n      at log (src/lib/performance-monitor.ts:323:13)\n\n    console.warn\n      [SW] Service Workers not supported\n\n      32 |   async register(): Promise<ServiceWorkerRegistration | null> {\n      33 |     if (!this.state.isSupported) {\n    > 34 |       console.warn('[SW] Service Workers not supported')\n         |               ^\n      35 |       return null\n      36 |     }\n      37 |\n\n      at ServiceWorkerManager.warn [as register] (src/lib/service-worker.ts:34:15)\n      at Object.register (__tests__/performance/performance-budget.test.ts:206:55)\n\n    console.warn\n      [SW] Service Workers not supported\n\n      32 |   async register(): Promise<ServiceWorkerRegistration | null> {\n      33 |     if (!this.state.isSupported) {\n    > 34 |       console.warn('[SW] Service Workers not supported')\n         |               ^\n      35 |       return null\n      36 |     }\n      37 |\n\n      at ServiceWorkerManager.warn [as register] (src/lib/service-worker.ts:34:15)\n      at Object.register (__tests__/performance/performance-budget.test.ts:222:55)\n\n  ● Performance Budget Tests › Core Web Vitals › should track First Contentful Paint under budget\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:39:47)\n\n  ● Performance Budget Tests › Core Web Vitals › should warn when FCP exceeds budget but under critical threshold\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:50:47)\n\n  ● Performance Budget Tests › Core Web Vitals › should fail when FCP exceeds critical threshold\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:60:47)\n\n  ● Performance Budget Tests › Core Web Vitals › should track Largest Contentful Paint\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:70:47)\n\n  ● Performance Budget Tests › Core Web Vitals › should track First Input Delay\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:80:47)\n\n  ● Performance Budget Tests › Core Web Vitals › should track Cumulative Layout Shift\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:90:47)\n\n  ● Performance Budget Tests › Custom Performance Metrics › should measure modal open performance\n\n    TypeError: performance.getEntriesByType is not a function\n\n      122 |     window.addEventListener('load', () => {\n      123 |       // Time to Interactive (simplified calculation)\n    > 124 |       const nav = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming\n          |                               ^\n      125 |       const tti = nav.domInteractive - nav.navigationStart\n      126 |       this.recordMetric({ tti })\n      127 |     })\n\n      at getEntriesByType (src/lib/performance-monitor.ts:124:31)\n      at callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at EventTargetImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at fireAnEvent (node_modules/jsdom/lib/jsdom/living/helpers/events.js:18:36)\n      at node_modules/jsdom/lib/jsdom/browser/Window.js:915:7\n\n  ● Performance Budget Tests › Service Worker Performance › should register service worker in production\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n      205 |\n      206 |       const registration = await serviceWorkerManager.register()\n    > 207 |       expect(registration).toBeTruthy()\n          |                            ^\n      208 |\n      209 |       // Restore environment\n      210 |       process.env.NODE_ENV = originalEnv\n\n      at Object.toBeTruthy (__tests__/performance/performance-budget.test.ts:207:28)\n\n  ● Performance Budget Tests › Performance Regression Detection › should detect performance regressions\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:289:47)\n\n  ● Performance Budget Tests › Performance Regression Detection › should track performance improvements\n\n    TypeError: Cannot read properties of undefined (reading 'webVitals')\n\n      210 |   getBudgetStatus(): PerformanceBudget[] {\n      211 |     const latest = this.getLatestMetrics()\n    > 212 |     const config = performanceConfig.webVitals\n          |                                      ^\n      213 |     \n      214 |     return [\n      215 |       this.checkBudget('fcp', config.FCP, latest.fcp),\n\n      at PerformanceMonitor.webVitals [as getBudgetStatus] (src/lib/performance-monitor.ts:212:38)\n      at Object.getBudgetStatus (__tests__/performance/performance-budget.test.ts:304:47)\n\nPASS __tests__/performance/lighthouse.test.ts\n  ● Console\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Performance Score: 92\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:67:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Accessibility Score: 95\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:75:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Best Practices Score: 93\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:83:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      SEO Score: 88\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:91:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      First Contentful Paint: 850ms\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:101:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Largest Contentful Paint: 2200ms\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:109:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      First Input Delay: 75ms\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:117:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Cumulative Layout Shift: 0.08\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:125:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Total Blocking Time: 250ms\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:133:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      Speed Index: 1800ms\n\n      at Object.log (__tests__/performance/lighthouse.test.ts:141:15)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\n    console.log\n      [Mock] Running Lighthouse audit for http://localhost:3000\n\n      at log (__tests__/performance/lighthouse.test.ts:51:11)\n\nPASS __tests__/performance/layout.performance.test.tsx\n\nTest Suites: 1 failed, 3 passed, 4 total\nTests:       10 failed, 40 passed, 50 total\nSnapshots:   0 total\nTime:        3.225 s\nRan all test suites matching /__tests__\\/performance\\//i.\n"
    }
  },
  "overall": {
    "passed": false,
    "score": 0
  }
}